{{define "notLoggedIn"}}
<form
	hx-post="/login"
	hx-swap="none"
	class="login-form"
>
	<div class="grid">
		<label for="username">Username:</label>
		<input
			text="text"
			name="username"
			placeholder="Username"
			autofocus
		/>
		<label for="password">Password:</label>
		<input
			type="password"
			name="password"
			placeholder="Password"
		/>
		<div class="submit-button">
			<button type="submit">Login</button>
		</div>
	</div>
</form>
<div id="errors"></div>
{{end}}

{{define "loggedIn"}}
{{template "content" .}}
{{end}}

{{define "response"}}
<div
	hx-swap-oob="true"
	id="root"
>
	{{template "content" .}}
</div>
{{end}}

{{define "content"}}
<button
	hx-post="/logout"
	hx-swap="body"
	hx-target="body"
>Log Out</button>
<div>
	Logged in as {{.Username}}
	{{if .IsAdmin}} (admin){{end}}
</div>

<!-- TODO figure out how to move websocket stuff to another file -->
<div
	hx-ext="ws"
	ws-connect="/ws"
>
	<form
		id="websockets-form"
		ws-send
	>
		<input
			type="text"
			name="wsMessage"
			placeholder="Message"
			autocomplete="off"
			autofocus
		/>
		<div
			id="websockets-messages"
			hx-swap-oob="beforeend"
		></div>
	</form>
</div>
{{end}}

{{define "websockets-message"}}
<div id="websockets-messages">{{.}}</div>
{{end}}